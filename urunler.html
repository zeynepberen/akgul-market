<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>AkgÃ¼l Market - ÃœrÃ¼nler</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        font-family: system-ui, sans-serif;
        background: #faf7e8;
        margin: 0;
        padding: 0;
        color: #333;
    }

    .back-btn {
        display: inline-block;
        padding: 10px 18px;
        margin: 20px;
        background: #ffcc33;
        color: #333;
        font-weight: 600;
        border-radius: 10px;
        text-decoration: none;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transition: 0.2s;
    }
    .back-btn:hover { background: #ffb300; transform: translateY(-2px); }

    h1 {
        text-align: center;
        background: #ffcc33;
        padding: 18px 0;
        margin-top: 0;
    }

    /* Arama */
    .search-container { text-align: center; margin: 20px 0; }
    .search-container input {
        width: 80%;
        max-width: 400px;
        padding: 12px;
        border-radius: 12px;
        border: 1px solid #bbb;
    }

    /* Kategoriler */
    .categories {
        display: flex; justify-content: center; flex-wrap: wrap;
        gap: 10px; padding: 10px;
    }
    .categories button {
        padding: 10px 16px;
        background: #ffd65c;
        border-radius: 999px;
        border: none;
        font-weight: 600;
        cursor: pointer;
    }

    /* ÃœrÃ¼n Grid */
    .grid {
        padding: 20px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
    }
    .card {
        max-width: 180px;
        margin: auto;
        background: #fff;
        padding: 14px;
        border-radius: 16px;
        text-align: center;
        box-shadow: 0 4px 14px rgba(0,0,0,0.08);
        cursor: pointer;
        transition: 0.3s;
    }
    .card:hover { transform: translateY(-5px); }

    .card img {
        width: 100%; height: 150px; object-fit: cover;
        border-radius: 12px;
    }

    .price {
        display: inline-block;
        background: linear-gradient(135deg, #ffb347, #ff7b47);
        color: white;
        padding: 5px 12px;
        border-radius: 999px;
        margin-top: 6px;
    }

    .in-stock { color: #2ecc71; }
    .out-stock { color: #e74c3c; }

    #emptyMsg {
        display:none;
        text-align:center;
        padding-top:30px;
        font-size:18px;
        color:#888;
    }

    /* Modal */
    #modal {
        position:fixed; top:0; left:0;
        width:100%; height:100%;
        background:rgba(0,0,0,0.6);
        display:none; justify-content:center;
        align-items:center;
    }
    #modal-content {
        background:white;
        padding:20px;
        border-radius:12px;
        width:90%; max-width:400px;
        text-align:center;
    }

</style>
</head>
<body>

<a href="index.html" class="back-btn">â¬… Anasayfaya DÃ¶n</a>

<h1>ÃœrÃ¼n KataloÄŸu</h1>

<div class="search-container">
    <input id="search" type="text" placeholder="ÃœrÃ¼n ara...">
</div>

<div class="categories">
    <button onclick="filterCategory('all')">TÃ¼mÃ¼</button>
    <button onclick="filterCategory('meyve')">Meyve & Sebze</button>
    <button onclick="filterCategory('et')">Et & ÅžarkÃ¼teri</button>
    <button onclick="filterCategory('icecek')">Ä°Ã§ecekler</button>
    <button onclick="filterCategory('atistirmalik')">AtÄ±ÅŸtÄ±rmalÄ±k</button>
    <button onclick="filterCategory('temel')">Temel GÄ±da</button>
    <button onclick="filterCategory('temizlik')">Temizlik</button>
    <button onclick="filterCategory('bakim')">KiÅŸisel BakÄ±m</button>
    <button onclick="filterCategory('kahvalti')">KahvaltÄ±lÄ±k</button>
    <button onclick="filterCategory('donuk')">Donuk ÃœrÃ¼nler</button>
</div>

<div id="emptyMsg">HiÃ§ Ã¼rÃ¼n bulunamadÄ±.</div>
<div class="grid" id="productGrid"></div>

<!-- Modal -->
<div id="modal">
    <div id="modal-content">
        <img id="modal-img">
        <h2 id="modal-name"></h2>
        <p id="modal-price"></p>
        <p id="modal-stock"></p>
        <p id="modal-category"></p>
        <button class="back-btn" onclick="closeModal()">Kapat</button>
    </div>
</div>

<script>

// ðŸŸ¢ TÃœM ÃœRÃœNLER TEK DEPO: "products"
let allProducts = JSON.parse(localStorage.getItem("products")) || [];

// ÃœRÃœNLERÄ° EKRANA BAS
function renderProducts(list) {
    const grid = document.getElementById("productGrid");
    const msg = document.getElementById("emptyMsg");

    grid.innerHTML = "";

    if (list.length === 0) {
        msg.style.display = "block";
        return;
    }
    msg.style.display = "none";

    list.forEach(p => {
        grid.innerHTML += `
        <div class="card" onclick="openModal(${p.id})">
            <img src="${p.img}">
            <h3>${p.name}</h3>
            <p class="price">${p.price} â‚º</p>
            <p class="${p.stock === 'var' ? 'in-stock' : 'out-stock'}">
                ${p.stock === 'var' ? "Stokta Var" : "TÃ¼kendi"}
            </p>
        </div>`;
    });
}

renderProducts(allProducts);

// KATEGORÄ° FÄ°LTRELEME
function filterCategory(cat) {
    renderProducts(
        cat === "all" ? allProducts : allProducts.filter(p => p.category === cat)
    );
}

// ARAMA
document.getElementById("search").addEventListener("input", function () {
    const text = this.value.toLowerCase();
    renderProducts(allProducts.filter(p => p.name.toLowerCase().includes(text)));
});

// MODAL
function openModal(id) {
    const p = allProducts.find(x => x.id === id);

    document.getElementById("modal-img").src = p.img;
    document.getElementById("modal-name").innerText = p.name;
    document.getElementById("modal-price").innerText = p.price + " â‚º";
    document.getElementById("modal-stock").innerText =
        p.stock === "var" ? "Stok Durumu: VAR" : "Stok Durumu: TÃœKENDÄ°";
    document.getElementById("modal-category").innerText = "Kategori: " + p.category;

    document.getElementById("modal").style.display = "flex";
}

function closeModal() {
    document.getElementById("modal").style.display = "none";
}

</script>

</body>
</html>
